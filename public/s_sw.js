navigator.userAgent.includes("Firefox")&&Object.defineProperty(globalThis,"crossOriginIsolated",{value:!0,writable:!1}),importScripts("/eggs/scramjet.all.js");const{ScramjetServiceWorker:ScramjetServiceWorker}=$scramjetLoadWorker(),scramjet=new ScramjetServiceWorker;async function handleRequest(e){return await scramjet.loadConfig(),scramjet.route(e)?scramjet.fetch(e):fetch(e.request)}let playgroundData;self.addEventListener("fetch",(e=>{e.respondWith(handleRequest(e))})),self.addEventListener("message",(({data:e})=>{"playgroundData"===e.type&&(playgroundData=e)})),scramjet.addEventListener("request",(e=>{if(playgroundData&&e.url.href.startsWith(playgroundData.origin)){const s={},t=playgroundData.origin;e.url.href===t+"/"?(s["content-type"]="text/html",e.response=new Response(playgroundData.html,{headers:s})):e.url.href===t+"/style.css"?(s["content-type"]="text/css",e.response=new Response(playgroundData.css,{headers:s})):e.url.href===t+"/script.js"?(s["content-type"]="application/javascript",e.response=new Response(playgroundData.js,{headers:s})):e.response=new Response("empty response",{headers:s}),e.response.rawHeaders=s,e.response.rawResponse={body:e.response.body,headers:s,status:e.response.status,statusText:e.response.statusText},e.response.finalURL=e.url.toString()}}));